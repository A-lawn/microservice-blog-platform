# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Broker Configuration for Blog Platform

brokerClusterName = DefaultCluster
brokerName = broker-a
brokerId = 0
deleteWhen = 04
fileReservedTime = 48
brokerRole = ASYNC_MASTER
flushDiskType = ASYNC_FLUSH

# Network settings
# brokerIP1 must be set to host.docker.internal for local development
# This allows Spring Boot services on the host to connect to the broker
brokerIP1 = host.docker.internal
listenPort = 10911
namesrvAddr = host.docker.internal:9876

# Store settings
storePathRootDir = /home/rocketmq/store
storePathCommitLog = /home/rocketmq/store/commitlog
storePathConsumeQueue = /home/rocketmq/store/consumequeue
storePathIndex = /home/rocketmq/store/index
storeCheckpoint = /home/rocketmq/store/checkpoint
abortFile = /home/rocketmq/store/abort

# Message settings
maxMessageSize = 65536
flushCommitLogLeastPages = 4
flushConsumeQueueLeastPages = 2
flushCommitLogThoroughInterval = 10000
flushConsumeQueueThoroughInterval = 60000

# HA settings
haSendHeartbeatInterval = 5000
haHousekeepingInterval = 20000

# Auto create topic and subscription group
autoCreateTopicEnable = true
autoCreateSubscriptionGroup = true

# Message trace
traceTopicEnable = true
msgTraceTopicName = RMQ_SYS_TRACE_TOPIC

# Access control
aclEnable = false

# Compression
compressedRegister = false